var amznFollow=amznFollow||{};amznFollow.utils=function(){function t(e){var o=this;return this.parseUri=function(e){for(var n=t.parsingOptions,r=n.parser[n.strictMode?"strict":"loose"].exec(e),a=14;a--;)o[n.key[a]]=r[a]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(o[n.q.name][e]=r)}),o},this.toString=function(){var e="";return this.protocol?e+=this.protocol+"://":this.authority&&(e+="//"),e+this.authority+this.path+t.paramsToString(this.queryParams)+(this.anchor?"#"+this.anchor:"")},this.parseUri(e),this}var e=window.location.protocol,o=e+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n=o+"/follow/",r=o+"/followv2/",a=o+"/ap/signin",i=4,l="application/x-www-form-urlencoded",s="application/json",u=400,c=/^(?:(?:(?:(\w\w)-)?pre-prod)|(?:.+))\.amazon.(?:(\w\w)|(com)|(?:co\.(?:(\w\w))))?$/,f={au:"A39IBJ37TRP1C6",br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",cn:"AAHKV2X7AFYLW",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",nl:"A1805IZSGTT6HS",ru:"AD2EMQ3L3PG8S",uk:"A1F83G8C2ARO7P",com:"ATVPDKIKX0DER"},d={A39IBJ37TRP1C6:"auflex",A2Q3Y263D00KWC:"brflex",A2EUQ1WTGCTBG2:"caflex",AAHKV2X7AFYLW:"cnflex",A1PA6795UKMFR9:"deflex",A1RKKUPIHCS9HS:"esflex",A13V1IB3VIYZZH:"frflex",A21TJRUUN4KGV:"inflex",APJ6JRA9NG5V4:"itflex",A1VC38T7YXB528:"jpflex",A1AM78C64UM0Y8:"mxflex",A1805IZSGTT6HS:"nlflex",AD2EMQ3L3PG8S:"ruflex",A1F83G8C2ARO7P:"gbflex",ATVPDKIKX0DER:"usflex"},p="ATVPDKIKX0DER";return t.parsingOptions={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryParams",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.parseUri=function(e){return new t(e)},t.paramsToString=function(t){var e=[];if(!t)return"";for(var o in t){var n=t[o];amznFollow.utils.isArray(n)?amznFollow.utils.forEach(n,function(t){e.push(o+"[]="+t)}):e.push(o+(n?"="+t[o]:""))}return e.length>0?"?"+e.join("&"):""},{AMAZON_URL:o,FOLLOW_SERVICE_URL:n,FOLLOW_SERVICE_URL_V2:r,CONTENT_TYPE_URL_ENCODED:l,CONTENT_TYPE_JSON:s,DEFAULT_FADE_DURATION:u,ajax:function(t,o){o=o||{};var n=this,r=(o.requestType||"GET").toUpperCase(),a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),u=new Date,c=function(t){var e;if(t){var r="json"===o.dataType?JSON.parse(a.responseText):a.responseText;n.executeFunction(o.successCallback,window,r,a)}else n.executeFunction(o.failureCallback,window,a),0!==a.status&&(e={status:a.status,responseText:a.responseText,readyState:a.readyState,userAgent:window.navigator.userAgent});o.logger&&o.logger.logDuration("request",new Date-u,e),n.executeFunction(o.completeCallback,window,a)};if(!o.cors||"withCredentials"in a?(a.open(r,t,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.onreadystatechange=function(){a.readyState===i&&c(200===a.status)}):o.cors&&"undefined"!=typeof XDomainRequest&&(t=t.replace(/^https?:\/\//,e+"//"),a=new XDomainRequest,a.open(r,t),a.onload=function(){c(!0)},a.onerror=function(){c(!1)},a.onprogress=function(){}),o.data){var f=o.contentType||l,d=o.data;f===l?d=this.formEncodeData(d):f===s&&(d=JSON.stringify(d)),a.setRequestHeader("Content-type",f),a.send(d)}else o.contentType&&a.setRequestHeader("Content-type",o.contentType),a.send()},ajaxGet:function(t,e){var o={requestType:"GET"};e=this.merge({},o,e),this.ajax(t,e)},ajaxGetJson:function(t,e){var o={requestType:"GET",dataType:"json"};e=this.merge({},o,e),this.ajax(t,e)},arrayEquals:function(t,e){if(!(t&&e&&this.isArray(t)&&this.isArray(e)&&t.length===e.length))return!1;for(var o=0;o<t.length;o++){if(t[o]instanceof Array&&e[o]instanceof Array&&!this.arrayEquals(t[o],e[o]))return!1;if(!(t[o]instanceof Array&&e[o]instanceof Array)&&t[o]!==e[o])return!1}return!0},camelize:function(t){return t.replace(/^([A-Z])|[\s-_](\w)/g,function(t,e,o){return o?o.toUpperCase():e.toLowerCase()})},createUrl:function(t,e){var o=this.formEncodeData(e);return o?t+"?"+o:t},dataValue:function(t,e){return this.getAttribute(t,"data-"+e,null)},dataValues:function(t,e,o){for(var n={},o=o||{},r=o.prefix||"",a=void 0!==o.camelize?o.camelize:!0,i=0;i<e.length;i++){var l=e[i],s=a?this.camelize(l):l,u=this.dataValue(t,r+l);u&&(n[s]=u)}return n},detectIE:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var o=t.indexOf("Trident/");if(o>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):!1},documentReady:function(t,e){var o=this,n=Array.prototype.slice.call(arguments,2),r=[t,e].concat(n),a=setInterval(function(){("complete"===document.readyState||"interactive"===document.readyState)&&(clearInterval(a),o.executeFunction.apply(e,r))},20)},executeFunction:function(t,e){if(t){var o="function"==typeof t,n=Array.prototype.slice.call(arguments,2);if(o)return void t.apply(this,n);for(var r=t.split("."),a=r.pop(),i=0;i<r.length;i++)e=e[r[i]];return e[a].apply(e,n)}},fadeIn:function(t,e){var o={finalOpacity:1},e=this.merge({},o,e);this.fadeTo(t,e)},fadeOut:function(t,e){var o={finalOpacity:0},e=this.merge({},o,e);this.fadeTo(t,e)},fadeTo:function(t,e){var o={duration:u,tickLength:50,delay:0,callback:function(){}},e=this.merge({},o,e),n=Number(t.style.opacity||0),r=e.duration/e.tickLength,a=e.finalOpacity>n,i=(e.finalOpacity-n)/r,l=!1;setTimeout(function(){var o=setInterval(function(){n+=i,(n>=e.finalOpacity&&a||n<=e.finalOpacity&&!a)&&(n=e.finalOpacity,l=!0,clearInterval(o),e.callback&&e.callback(),a||0!==e.finalOpacity||(t.style.display="none")),t.style.opacity=n,l||(t.style.display="block")},e.tickLength)},e.delay)},forEach:function(t,e,o){var n,r;if(Array.prototype.forEach)return void t.forEach(e,o);if(!t)throw new TypeError(" array is null or not defined");if(!this.isArray(t))throw new TypeError(" array is not an array");var a=Object(t),i=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>2&&(n=o),r=0;i>r;){var l;r in a&&(l=a[r],e.call(n,l,r,a)),r++}},formEncodeData:function(t,e){var o=[];for(var n in t)if(t.hasOwnProperty(n)){var r=n,a=t[n];e&&(r=e+"["+(this.isArray(t)?"":n)+"]"),o.push("object"==typeof a?this.formEncodeData(a,r):encodeURIComponent(r)+"="+encodeURIComponent(a))}return o.join("&")},formatString:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);if(!t)throw new Error("An input string must be provided as the first argument");return t.replace(/{(\d+)}/g,function(o,n){var r=parseInt(n);if(r>=e.length)throw new Error("No placeholder "+r+" in text "+t);return e[r]})},getElementsByClassName:function(t,e){e=e||{};var o=e.parentElement||document.body,n=e.tagName||"*";if(document.getElementsByClassName)return o.getElementsByClassName(t);for(var r=o.getElementsByTagName(n),a=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=[],l=0;l<r.length;l++){var s=r[l];a.test(s.className)&&i.push(s)}return i},getElementsByClassNames:function(t,e){e=e||{};for(var o=(e.parentElement||document.body,e.tagName||"*",[]),n=0;n<t.length;n++)for(var r=this.getElementsByClassName(t[n],e),a=0;a<r.length;a++)o[o.length]=r[a];return o},getAttribute:function(t,e,o){return o=o||null,t.hasAttribute?t.hasAttribute(e)?t.getAttribute(e):o:t.getAttribute(e)},hasTouchEvents:function(){return"ontouchstart"in window},inWeblab:function(t,e,o){return t[e]===(o||"T1")},isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},marketplaceFromHostname:function(t){var e=t.match(c);if(!e)return p;for(var o=1;o<e.length;o++)if(void 0!==e[o])return f[e[o]];return p},merge:function(){for(var t=arguments[0]||{},e=arguments.length,o=1;e>o;o++){var n=arguments[o];for(var r in n)t[r]=n[r]}return t},parseUrl:function(){return{}},queryStringValue:function(t){var e=window.location.search,o=new RegExp(t+"=([^#&]+)"),n=o.exec(e);return n&&2===n.length?n[1]:void 0},redirect_to_login:function(t){var e=this.marketplaceFromHostname(window.location.hostname),o=a.replace(/^https?:\/\//,"https://"),n=d[e],r="http://specs.openid.net/auth/2.0/identifier_select",i="http://specs.openid.net/auth/2.0",l="http://specs.openid.net/extensions/pape/1.0",s="{0}?openid.assoc_handle={1}&openid.claimed_id={2}&openid.identity={2}&openid.mode=checkid_setup&openid.ns={3}&openid.ns.pape={4}&openid.pape.max_auth_age=0&openid.return_to={5}",u=this.formatString(s,o,n,encodeURIComponent(r),encodeURIComponent(i),encodeURIComponent(l),encodeURIComponent(t));window.location.href=u},show:function(t){t.style.display="block"},hide:function(t){t.style.display="none"},addClass:function(t,e){t.className=t.className+" "+e},removeClass:function(t,e){for(var o=t.className.split(/\s+/),n=o.length;n--;)o[n]===e&&o.splice(n,1);t.className=o.join(" ")},hasClass:function(t,e){for(var o=t.className.split(/\s+/),n=o.length;n--;)if(o[n]===e)return!0;return!1},Uri:t}}();var amznFollow=amznFollow||{};amznFollow.events=function(){var t=[];return{trigger:function(e,o){for(var n=t[e]||[],r=Array.prototype.slice.call(arguments,2),a=n.length-1;a>=0;a--){for(var i=!0,l=n[a],s=l.events.length-1;s>=0;s--)l.events[s]===o&&l.fireOnce?n[a].events.splice(s,1):l.events[s]!==o&&(i=!1);if(i){var u=[l.callback,window].concat(r);l.fireOnce&&n.splice(a,1),amznFollow.utils.executeFunction.apply(this,u)}}},off:function(e,o){var n=t[e]||[];"string"==typeof o&&(o=[o]);for(var r=n.length-1;r>=0;r--)amznFollow.utils.arrayEquals(n[r].events,o)&&n.splice(r,1)},on:function(e,o,n,r){r&&("string"==typeof o?o=[o]:n||(console.warn("Cannot use fireOnce: false with multiple events"),n=!0),t[e]||(t[e]=[]),t[e].push({events:o,fireOnce:n,callback:r}))}}}();var amznFollow=amznFollow||{};amznFollow.metrics=function(){function t(t){t=t||{};var e,n=this,r=[],a=t.delay||o,i=t.enabled!==!1,l=function(){e&&clearTimeout(e)},s=function(){i&&0!==r.length&&(l(),e=setTimeout(function(){n.sendMetrics()},a))};this.sendMetrics=function(){0!==r.length&&(amznFollow.utils.ajax(amznFollow.utils.FOLLOW_SERVICE_URL+"log-metrics",{requestType:"POST",contentType:amznFollow.utils.CONTENT_TYPE_JSON,data:{metrics:r}}),r=[])},this.logMetric=function(t){r.push(t),s()},this.setEnabled=function(t){i!==t&&(i=t,i?s():l())}}function e(t,e,o,n){var r=".",a="time",i=this,l={},s=function(){for(var t=[],e=0;e<arguments.length;e++)arguments[e]&&t.push(arguments[e]);return t.join(r)};this.namespace=function(){return o?s(o.namespace(),e):e},this.child=function(e,o){n=o||n;var r=s(e,n);return l[r]||(l[r]=new amznFollow.metrics.MetricsLogger(t,e,i,n)),l[r]},this.logDuration=function(e,o,r){if(t){var i={name:s(this.namespace(),e,a),duration:o,ref:n};r&&(i.error=r),t.logMetric(i)}},this.dispatcher=function(){return t}}var o=1500;return{MetricsLogDispatcher:t,MetricsLogger:e,noop:new e}}();var amznFollow=amznFollow||{};amznFollow.ButtonTooltip=function(){"use strict";function t(t,a,i,l){function s(){if(p.element=g.getElementsByClassName(a,{parentElement:t,tag:"div"})[0],p.body=p.findFirstByClass("pr-fb-tooltip-body"),p.eventNamespace=i+"-"+a,c=p.findFirstByClass("pr-fb-tooltip-close"),d=!1,!p.element||!p.body||!c)throw new Error("Error loading tooltip: "+a);f=r[i]||[],r[i]=f,f.push(p);var e=l.tooltipPosition||n,o=e.split(" "),s=o[0],m=o[1];g.addClass(p.element,"pr-fb-tooltip-"+s),g.addClass(p.element,"pr-fb-tooltip-"+m),c.onclick=u}function u(){m.trigger(p.eventNamespace,"closeClicked"),p.hide()}l=l||{};var c,f,d,p=this,m=amznFollow.events,g=amznFollow.utils;this.findFirstByClass=function(t){return g.getElementsByClassName(t,{parentElement:p.element})[0]},this.show=function(t){if(!d){var n=g.merge({},{delay:e,duration:o},t),r=function(){g.fadeIn(p.element,n)},a=!1;g.forEach(f,function(t){var e=t.hide({callback:r});a=a||e}),a||r(),d=!0}},this.hide=function(t){var e=d;if(d){var n=g.merge({},{delay:0,duration:o},t);g.fadeOut(p.element,n),d=!1}return e},s()}var e=500,o=200,n="bottom left",r={};return amznFollow.hideAllTooltips=function(t,e){var o=r[t]||[];amznFollow.utils.forEach(o,function(t){t.hide(e)})},amznFollow.hideAllTooltipsForAllButtons=function(t){for(var e in r)amznFollow.hideAllTooltips(e,t)},amznFollow.removeTooltips=function(t){delete r[t]},t}();var amznFollow=amznFollow||{};!function(){"use strict";function t(t,a,s){function g(){var e=Q.dataValues(t,m);if(Q.merge(te,e),"undefined"==typeof te.entityId&&(te.entityId=te.asin),"undefined"==typeof te.type&&(te.type=te.category),oe=a.child(v,te.ref),!te.entityId||!te.type)throw new Error("A type and an entity id must be provided");return te.followId=Q.formatString(c,te.entityId,te.type),te.marketplaceId=Q.marketplaceFromHostname(window.location.hostname),s&&"false"===te.initialize&&S!==te.followId?void console.log("Not initializing Follow Button: "+te.followId):($.on(te.followId,["cssLoaded","htmlLoaded","statusLoaded","stringsLoaded"],!0,I),w(),C(),E(),A(),void(ne=!0))}function w(){t.insertAdjacentHTML("afterbegin",n);var e=t.getElementsByTagName("link")[0];if(e)return void $.trigger(te.followId,"cssLoaded");if(document.createStyleSheet){if(document.styleSheets.length<p)return document.createStyleSheet(o),void $.trigger(te.followId,"cssLoaded");for(var r=-1,a=Number.MAX_VALUE,i=0;i<document.styleSheets.length;i++)"STYLE"===document.styleSheets[i].owningElement.tagName.toUpperCase()&&document.styleSheets[i].cssText.length<a&&(r=i,a=document.styleSheets[i].cssText.length);-1!==r&&Q.ajax(o,{requestType:"GET",cors:!0,logger:oe.child("css"),successCallback:function(t){document.styleSheets[r].cssText+=t,$.trigger(te.followId,"cssLoaded")}})}}function C(){Q.ajax(e,{requestType:"GET",cors:!0,successCallback:function(e){Q.addClass(t,"pr-fb-unfollowable"),Q.detectIE()&&Q.addClass(t,"pr-fb-ie"+Q.detectIE()),t.insertAdjacentHTML("afterbegin",e);var o=t.getElementsByTagName("span");if(P=o[f],J=o[d],G=Q.getElementsByClassName("pr-fb-button",{parentElement:t,tagName:"span"})[0],K=Q.getElementsByClassName("pr-fb-text",{parentElement:t,tagName:"span"})[0],te.fontFamily&&(K.style.fontFamily=te.fontFamily),amznFollow.removeTooltips(te.followId),W=new amznFollow.ButtonTooltip(t,"pr-fb-intro-tooltip",te.followId,te),Y=new amznFollow.ButtonTooltip(t,"pr-fb-suggestion-tooltip",te.followId,te),X=new amznFollow.ButtonTooltip(t,"pr-fb-error-tooltip",te.followId,te),Z=new amznFollow.ButtonTooltip(t,"pr-fb-onboard-tooltip",te.followId,te),!(P&&J&&G&&K&&W&&Y&&X&&Z))throw new Error("Error loading the follow button");Q.hasTouchEvents()?Q.addClass(t,"pr-fb-mobile"):Q.addClass(P,"pr-fb-no-touch"),Q.addClass(t,"pr-fb-"+te.size),te.color&&Q.addClass(P,"pr-fb-"+te.color),$.trigger(te.followId,"htmlLoaded")},logger:oe.child("html")})}function A(){var t=Q.FOLLOW_SERVICE_URL_V2+"follow/"+te.followId,e={logger:oe.child("button"),successCallback:function(t){Q.merge(te,{csrf:t.csrf,isFollowing:t.isFollowing,isFollowable:t.isFollowable,onboardingRequired:t.onboardingRequired,signedIn:t.signedIn,seenTooltip:t.seenTooltip,showTooltip:"show"===te.tooltip||!te.tooltip&&!t.seenTooltip,showSuggestionTooltip:"show"===te.suggestionTooltip,logMetrics:t.logMetrics}),oe.logDuration("total",new Date-ee),$.trigger(te.followId,"statusLoaded")}},o={include:[]};te.ref&&(o.ref=te.ref),te.tooltip||o.include.push("seenTooltip"),o.ts=Date.now(),t=Q.createUrl(t,o),Q.ajaxGetJson(t,e)}function E(){var t={cors:!0,logger:oe.child("strings"),successCallback:function(t){var e=t[te.language],o={nodeId:T[te.marketplaceId]||T.ATVPDKIKX0DER},n=Q.merge({},F,o);te.suggestionTooltipText=te.suggestionTooltipText?te.suggestionTooltipText:e.follow_button_follow_suggestion,b.follow=e.follow_button_follow,b.following=e.follow_button_following,b.learnMore='<p><a href="'+amznFollow.utils.createUrl(_,n)+'">'+e.follow_button_learn_more+"</a></p>",b.onboard="<p>"+e.follow_button_onboarding+'</p><p class="pr-fb-action"><a href="/gp/profile/onboard?r={0}&ref=fb_pr_onb">'+e.follow_button_complete_my_profile+"</a></p>",b.introTooltip={author:"<p>"+e.follow_button_intro_author+"</p>",customer:"<p>"+e.follow_button_intro_customer+"</p>",interest:"<p>"+e.follow_button_intro_interest+"</p>",brand:"<p>"+e.follow_button_intro_brand+"</p>",collection:"<p>"+e.follow_button_intro_collection+"</p>"},b.error={UNKNOWN:'<p class="pr-fb-error">'+e.follow_button_error_unknown+"</p>",SELF_FOLLOW_FORBIDDEN:"<p>"+e.follow_button_error_self_follow+"</p>",PROFILE_REQUIRED:b.onBoard},b.introHeader=e.follow_button_follow_on_amazon,b.suggestionHeader=e.follow_button_followed,b.seeMore=e.follow_button_see_more_recommendations,b.recsTooltip={author:e.follow_button_recs_tooltip_header_author,brand:e.follow_button_recs_tooltip_header_brand},$.trigger(te.followId,"stringsLoaded")}};Q.ajaxGetJson(r,t)}function I(){if(te.isFollowable){te.logMetrics&&oe.dispatcher()&&oe.dispatcher().setEnabled(!0),Q.removeClass(t,"pr-fb-unfollowable"),P.onclick=N,H(te.isFollowing),$.on(te.followId,"loaded",!0,te.onload),$.on(te.followId,"addFollow",!1,te.onadd),$.on(te.followId,"addFollowCompleted",!1,te.onaddcompleted),$.on(te.followId,"removeFollow",!1,te.onremove),$.on(te.followId,"removeFollowCompleted",!1,te.onremovecompleted),O();var e=null;x()?B():e=function(){te.onboardingRequired?Z.show():te.showTooltip&&W.show()},Q.fadeIn(P,{duration:te.fadeDuration,callback:e}),$.trigger(te.followId,"loaded",te)}}function x(){if(S!==te.followId||te.isFollowing||"undefined"==typeof sessionStorage)return!1;var t=sessionStorage.automaticFollowEntityId;return sessionStorage.removeItem("automaticFollowEntityId"),t===te.followId}function z(){"undefined"!=typeof sessionStorage&&(sessionStorage.automaticFollowEntityId=te.followId)}function N(){if(!te.signedIn){var t=Q.formatString("{0}={1}",l,te.followId),e=(window.location.search?window.location.search+"&":"?")+t,o=Q.formatString("https://{0}{1}{2}",window.location.hostname,window.location.pathname,e);return z(),void Q.redirect_to_login(o)}te.isFollowing?D():B()}function O(){var t=W.findFirstByClass("pr-fb-intro-text"),e=W.findFirstByClass("pr-fb-intro-header");t.innerHTML=b.introTooltip[te.type]+b.learnMore,e.innerHTML=b.introHeader,$.on(W.eventNamespace,"closeClicked",!0,k),L(),R()}function L(){var t=window.location.search.slice(1),e=Z.findFirstByClass("pr-fb-onboard-text"),o=encodeURIComponent(Q.formatString("{0}?{1}={2}&message=onboarding_complete&{3}",window.location.pathname,l,te.followId,t)),n=Q.formatString(b.onboard,o);e.innerHTML=n}function R(){var t=i,e=Q.Uri.parseUri(t);e.queryParams.ref||(e.queryParams.ref=te.ref?Q.formatString("{0}_{1}",y,te.ref):y);var o=Y.findFirstByClass("pr-fb-suggestion-header");o.innerHTML=b.recsTooltip[te.type];var n=document.createElement("a");n.className="pr-fb-tooltip-see-more",n.href=e.toString(),n.innerHTML=b.seeMore;var r=Y.findFirstByClass("pr-fb-suggestion-text");r.innerHTML="",r.appendChild(n)}function U(){var t=Q.formatString(u,te.type,te.entityId),e={logger:oe.child("recommendations"),successCallback:function(t){var e=Y.findFirstByClass("pr-fb-suggestion-list");e.innerHTML="",t.results[0]&&t.results[0].recommendations&&Q.forEach(t.results[0].recommendations,function(t){e.appendChild(j(t))}),amznFollow.initialize(),$.trigger(te.followId,"recommendationsLoaded")}};Q.ajaxGetJson(t,e)}function j(t){var e=Q.Uri.parseUri(t.entity_data.url);e.queryParams.ref||(e.queryParams.ref=te.ref?Q.formatString("{0}_{1}",y,te.ref):y);var o=document.createElement("div");o.className="pr-fb-recs-tooltip-row";var n=document.createElement("a");n.className="pr-fb-recs-tooltip-image-link",n.href=e.toString(),o.appendChild(n);var r=document.createElement("div");r.className="pr-fb-recs-tooltip-image",r.style.backgroundImage=Q.formatString("url({0})",t.entity_data.image_url),n.appendChild(r);var a=document.createElement("div");a.className="pr-fb-recs-tooltip-details-column",o.appendChild(a);var i=document.createElement("div");i.className="pr-fb-recs-tooltip-details",a.appendChild(i);var l=document.createElement("a");l.className="pr-fb-recs-tooltip-link",l.href=e.toString(),l.innerHTML=t.entity_data.name,i.appendChild(l);var s=document.createElement("span");s.className="pr-fb-recs-tooltip-popular-items",i.appendChild(s);var u=t.entity_data.data.map(function(t){return t.name}).join(", ");s.innerHTML=u;var c=document.createElement("div");c.className="pr-fb-recs-tooltip-button-column",o.appendChild(c);var f=document.createElement("div");return f.className="amazon-follow",f.setAttribute("data-size","small"),f.setAttribute("data-suggestion-tooltip","hide"),f.setAttribute("data-entity-id",t.entity_id),f.setAttribute("data-type",t.entity_type),f.setAttribute("data-language",te.language),f.setAttribute("data-ref",te.ref?Q.formatString("{0}_{1}",y,te.ref):y),c.appendChild(f),o}function k(){te.showTooltip&&!te.seenTooltip&&te.signedIn&&(te.seenTooltip=!0,Q.ajax(Q.FOLLOW_SERVICE_URL_V2+"viewed_tooltip",{requestType:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({authenticity_token:te.csrf,category:te.type,entity_id:te.entityId}),logger:oe.child("viewed_tooltip")}))}function M(t){if("PROFILE_REQUIRED"===t)return void Z.show();var e=b.error[t]||b.error.UNKNOWN;X.findFirstByClass("pr-fb-error-text").innerHTML=e,X.show()}function B(){var t=Q.FOLLOW_SERVICE_URL_V2+"follow/",e={authenticity_token:te.csrf,entity_id:te.entityId,category:te.type,ref:te.ref||""};k(),V(t.toString(),e)}function D(){var t={authenticity_token:encodeURIComponent(te.csrf),ref:te.ref||""},e=Q.FOLLOW_SERVICE_URL_V2+"follow/"+te.followId+amznFollow.utils.Uri.paramsToString(t);q(e.toString())}function V(t,e){var o="pr-fb-pending";if(!Q.hasClass(P,o)){Q.addClass(P,o);var n="add";Q.ajax(t,{requestType:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json; charset=utf-8",successCallback:function(){$.trigger(te.followId,n+"FollowCompleted",te),te.showSuggestionTooltip?(amznFollow.hideAllTooltipsForAllButtons(),$.on(te.followId,"recommendationsLoaded",!0,function(){Y.show()}),U()):amznFollow.hideAllTooltips(te.followId)},failureCallback:function(t){H(!1),"show"===te.errorTooltip&&M(t.responseText)},completeCallback:function(){Q.removeClass(P,o)},logger:oe.child(n)}),H(!0),$.trigger(te.followId,n+"Follow",te)}}function q(t){var e="pr-fb-pending";if(!Q.hasClass(P,e)){Q.addClass(P,e);var o="remove";Q.ajax(t,{requestType:"DELETE",successCallback:function(){$.trigger(te.followId,o+"FollowCompleted",te),amznFollow.hideAllTooltips(te.followId)},failureCallback:function(t){H(!0),"show"===te.errorTooltip&&M(t.responseText)},completeCallback:function(){Q.removeClass(P,e)},logger:oe.child(o)}),H(!1),$.trigger(te.followId,o+"Follow",te)}}function H(t){Q.removeClass(P,t?"pr-fb-not-following":"pr-fb-following"),Q.addClass(P,t?"pr-fb-following":"pr-fb-not-following"),K.innerHTML=t?b.following:b.follow,te.isFollowing=t}a=a||amznFollow.metrics.noop;var P,J,G,K,W,Y,X,Z,Q=amznFollow.utils,$=amznFollow.events,te=Q.merge({},h),ee=new Date,oe=amznFollow.metrics.noop,ne=!1;return this.element=t,this.id=function(){return te.followId},this.isFollowing=function(){return te.isFollowing},this.introTooltip=function(){return W},this.showTooltip=function(t){W.show(t)},this.hideTooltip=function(t){W.hide(t)},this.initialized=function(){return ne},this.click=N,g(s),this}var e="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-35b5385bc9d82647b3d719792168bb2e.html",o="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-b929841fef6eba33c2e52e2a0b616528.css",n='<link rel="stylesheet" media="screen" href="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-b929841fef6eba33c2e52e2a0b616528.css" />',r="https://d39x00gckxu2jb.cloudfront.net/follow/assets/button_strings-287276da2b44487ac2e68d916bb894d9.json",a=amznFollow.utils.AMAZON_URL+"/gp/profile/author_suggestions",i=amznFollow.utils.AMAZON_URL+"/gp/profile/follow/recommendations",l="follow-button-add",s={recommenders:["similarities"],entity_types:["{0}"],results_limit:1,per_result_recommendations_limit:3,facet:"low",scale_width:50},u=amznFollow.utils.FOLLOW_SERVICE_URL+"v2/recommendations/{0}/{1}"+amznFollow.utils.Uri.paramsToString(s),c="{0}_{1}",f=0,d=2,p=31,m=["size","font-family","language","asin","entity-id","category","type","tooltip","tooltip-position","error-tooltip","onload","onadd","onaddcompleted","onremove","onremovecompleted","ref","color","suggestion-tooltip","suggestion-tooltip-text","suggestion-tooltip-url","fade-duration","initialize"],g="amazon-follow-initialized",w=["bottom","left"],h={size:"base",language:"en_US",tooltipPosition:w.join(" "),onload:null,onadd:null,onaddcompleted:null,onremove:null,onremovecompleted:null,errorTooltip:"show",suggestionTooltip:"false",suggestionTooltipText:null,suggestionTooltipUrl:a,fadeDuration:amznFollow.utils.DEFAULT_FADE_DURATION,initialize:!0},y="fb_recs_tt",b={},v="follow_button",T={ATVPDKIKX0DER:201813230,A2EUQ1WTGCTBG2:"GTM44YV8NNGGBZUS",A2Q3Y263D00KWC:201996080,A1AM78C64UM0Y8:201996080,A1F83G8C2ARO7P:202042520,A1PA6795UKMFR9:202060640,A13V1IB3VIYZZH:202060860,A21TJRUUN4KGV:202060600,A1RKKUPIHCS9HS:201996080,APJ6JRA9NG5V4:201996080,A1805IZSGTT6HS:"GE8UAMJNYWDH4SBM",A1VC38T7YXB528:201996080,A39IBJ37TRP1C6:201996080},F={ref:"fb_lrn"},_=amznFollow.utils.AMAZON_URL+"/gp/help/customer/display.html",C=[],A=new amznFollow.metrics.MetricsLogDispatcher({enabled:!1}),E=new amznFollow.metrics.MetricsLogger(A),I=document.createElement("img");I.src="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow-button-sprite-b475c89a03a1675ae927dbb101674cd3.png",I.style.position="absolute",I.style.width="1px",I.style.height="1px",I.style.top="-1000px",I.style.left="-1000px",amznFollow.initialize=function(t){document.body.appendChild(I);for(var e=amznFollow.utils.getElementsByClassNames(["amazon-favorite","amazon-follow"],{tagName:"div"}),o=0;o<e.length;o++)amznFollow.utils.hasClass(e[o],g)||amznFollow.initializeButton(e[o],t)},amznFollow.all=function(){return C},amznFollow.initializeButton=function(e,o){var n=new t(e,E,o);C.push(n),n.initialized()&&amznFollow.utils.addClass(e,g)},amznFollow.reInitializeButton=function(t,e,o){for(C=C.filter(function(o){var n=amznFollow.utils.dataValue(o.element,"entity-id");return n!==amznFollow.utils.formatString(c,e,t)});o.hasChildNodes();)o.removeChild(o.firstChild);amznFollow.initializeButton(o,!1)},amznFollow.find=function(t,e){for(var o=0;o<C.length;o++)if(C[o].id()==amznFollow.utils.formatString(c,e,t))return C[o];return null};var S=amznFollow.utils.queryStringValue(l);return amznFollow.utils.documentReady("amznFollow.initialize",window,!0),amznFollow.FavoriteButton=t,amznFollow.FollowButton=t,amznFollow}();var afav=amznFollow;"object"!=typeof JSON&&(JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var o,n,r,a,i,l=gap,s=e[t];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(t)),"function"==typeof rep&&(s=rep.call(e,t,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,o=0;a>o;o+=1)i[o]=str(o,s)||"null";return r=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+l+"]":"["+i.join(",")+"]",gap=l,r}if(rep&&"object"==typeof rep)for(a=rep.length,o=0;a>o;o+=1)"string"==typeof rep[o]&&(n=rep[o],r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));else for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));return r=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+l+"}":"{"+i.join(",")+"}",gap=l,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;o>n;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var o,n,r=t[e];if(r&&"object"==typeof r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n=walk(r,o),void 0!==n?r[o]=n:delete r[o]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();