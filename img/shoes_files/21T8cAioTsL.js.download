(function(e){var c=window.AmazonUIPageJS||window.P,h=c._namespace||c.attributeErrors,f=h?h("DetailPageValuePickDesktopAssets",""):c;f.guardFatal?f.guardFatal(e)(f,window):f.execute(function(){e(f,window)})})(function(e,c,h){e.when("jQuery","A","valuepick_constants").register("valuepick_amazonAPIClient",function(f,c,b){return c.createClass({init:function(d){this._baseUrl="https://"+d.endpoint+"/api/marketplaces/"+d.marketplaceId+"/";this._defaultHeaders={"Accept-Language":d.language,"x-api-csrf-token":d.csrfToken,
"x-cc-currency-of-preference":d.currency}},productV2:function(d){var b=["products",d.asin],c={Accept:'application/vnd.com.amazon.api+json; type\x3d"product/v2"; expand\x3d"'+d.subresources.join(",")+'"'},b=this._constructUrl(b,d.parameters),c=f.extend(this._defaultHeaders,c);this._get(d.success,d.error,d.always,b,c)},_get:function(d,c,k,a,g){f.ajax({url:a,type:"GET",headers:g,xhrFields:{withCredentials:!0},timeout:b.AAPI_CLIENT_TIMEOUT}).done(function(a,b){d(a,b)}).fail(function(a,d,b){c(d,b)}).always(function(a,
d){k(d)})},_constructUrl:function(d,b){b=b||{};b=f.map(b,function(b,a){return a.toString()+"\x3d"+b.toString()}).join("\x26");return this._baseUrl+d.join("/")+(0<b.length?"?"+b:"")}})});"use strict";e.when("jQuery","A","valuepick_constants","valuepick_metrics","valuepick_amazonAPIClient","valuepick_resourceHandler","ready").register("valuepick_ajaxManager",function(f,e,b,d,h,k){return{aapiRequest:function(){var a=e.state(b.AJAX_PARAMS_STATE_KEY);"undefined"===typeof a&&(e.state.parse(),a=e.state(b.AJAX_PARAMS_STATE_KEY));
if(a&&a.resources){var g=c.performance&&c.performance.now?c.performance.now():Date.now(),n=new h(a),f=a.resources.split(","),l=f.map(function(a){return b.INCLUSIONS[a]});n.productV2({asin:a.asin,subresources:l,parameters:[],success:function(a,c){d.updateCounter(b.METRICS.AAPI_AJAX_SUCCESS);f.forEach(function(b){k[b].success(a,c)})},error:function(a,c){d.updateCounter(b.METRICS.AAPI_AJAX_FAILURE);f.forEach(function(b){k[b].error(a,c)})},always:function(a){var n=c.performance&&c.performance.now?c.performance.now():
Date.now();d.updateLatency(b.AAPI_LATENCY,n-g);f.forEach(function(b){k[b].always(a)})}})}}}});"use strict";e.when("dp-latency-marker").register("valuepick_constants",function(){return{AJAX_PARAMS_STATE_KEY:"valuePickAjaxParams",UNSPECIFIED_REQUEST_STATUS:"unspecified",AAPI_CLIENT_TIMEOUT:6E3,INCLUSIONS:{businessDiscountsSummaryV1:"buyingOptions[].businessDiscountsSummary(product.business-discounts-summary/v1)",deliveryV2:"buyingOptions[].delivery(product.delivery/v1)"},METRICS:{AAPI_AJAX_SUCCESS:"DesktopValuePick.AjaxSuccess",
AAPI_AJAX_FAILURE:"DesktopValuePick.AjaxFailure",AAPI_LATENCY:"DesktopValuePick.AAPILatency",BUSINESS_DISCOUNTS_MESSAGE_SUCCESS:"DesktopValuePick.BusinessDiscountMessage.AjaxSuccess",BUSINESS_DISCOUNTS_MESSAGE_FAILURE:"DesktopValuePick.BusinessDiscountMessage.AjaxFailure",BUSINESS_DISCOUNTS_MESSAGE_EMPTY_RESPONSE:"DesktopValuePick.BusinessDiscountMessage.EmptyResponse",BUSINESS_DISCOUNTS_MESSAGE_PARSING_FAILURE:"DesktopValuePick.BusinessDiscountMessage.UnableToParse",PRIME_BADGE_SUCCESS:"DesktopValuePick.PrimeBadge.AjaxSuccess",
PRIME_BADGE_FAILURE:"DesktopValuePick.PrimeBadge.AjaxFailure",PRIME_BADGE_EMPTY_RESPONSE:"DesktopValuePick.PrimeBadge.EmptyResponse"},PRIME:{PRIME:"PRIME",PRIME_ONE_DAY:"PRIME_ONE_DAY",PRIME_SAME_DAY:"PRIME_SAME_DAY",PRIME_UPSELL_VARIANT:"PRIME_UPSELL",PRIME_VARIANT:"PRIME"}}});"use strict";e.when("dp-latency-marker").register("valuepick_metrics",function(){return{updateCounter:function(f){c.ue&&c.ue.count&&c.ue.count(f,(c.ue.count(f)||0)+1)},updateLatency:function(f,e){c.ue&&c.ue.count&&c.ue.count(f,
e)}}});"use strict";e.when("jQuery","A","valuepick_constants","valuepick_metrics").register("valuepick_resourceHandler",function(c,e,b,d){function p(a,b){b.forEach(function(b){b.strong?a.find("b").append(b.text):a.append(b.text)})}function k(a){var b=a.fragments;return b?(a=b.map(function(b){var a=b.semanticContent;return a&&a.content.text?{text:a.content.text,strong:a.strong||!1}:b.text?{text:b.text,strong:!1}:{text:"",strong:!1}}),0<=a.map(function(a){return a.text}).indexOf("")?h:a):a.text?[{text:a.text,
strong:!1}]:h}return{businessDiscountsSummaryV1:{success:function(a,g){if((a=a.entity.buyingOptions[0].businessDiscountsSummary)&&a.entity&&a.entity.featuredDiscountMessage){g=a.entity.featuredDiscountMessage;var e=g.label?g.label.content:h,m=g.message;if(e||m){var l=e?k(e):h;a=m?k(m):h;e&&!l||m&&!a?d.updateCounter(b.METRICS.BUSINESS_DISCOUNTS_MESSAGE_PARSING_FAILURE):(l&&(e=c(".value-pick-business-discount-label"),p(e,l),"BADGE"===g.label.highlightingStyle&&e.addClass("value-pick-business-discounts-badge")),
a&&(g=c(".value-pick-business-discount-message"),p(g,a)),c(".value-pick-business-discount-message-container").removeClass("aok-hidden"),d.updateCounter(b.METRICS.BUSINESS_DISCOUNTS_MESSAGE_SUCCESS))}else d.updateCounter(b.METRICS.BUSINESS_DISCOUNTS_MESSAGE_EMPTY_RESPONSE)}else d.updateCounter(b.METRICS.BUSINESS_DISCOUNTS_MESSAGE_EMPTY_RESPONSE)},error:function(a,c){d.updateCounter(b.METRICS.BUSINESS_DISCOUNTS_MESSAGE_FAILURE)},always:function(a){c(".value-pick-business-discount-loading-bar").addClass("aok-hidden")}},
deliveryV2:{success:function(a,c){if((a=a.entity.buyingOptions[0].delivery)&&a.entity&&a.entity.messageInstructions){c=!1;for(var e=0;e<a.entity.messageInstructions.length;e++){var f=a.entity.messageInstructions[e];if(f.type===b.PRIME.PRIME||f.type===b.PRIME.PRIME_ONE_DAY||f.type===b.PRIME.PRIME_SAME_DAY)c=!0;if(f.variant===b.PRIME.PRIME_UPSELL_VARIANT||f.variant===b.PRIME.PRIME_VARIANT)c=!0;if(c)break}c&&document.getElementById("value-pick-prime-badge-lazy-loading").classList.remove("aok-hidden");
d.updateCounter(b.METRICS.PRIME_BADGE_SUCCESS)}else d.updateCounter(b.METRICS.PRIME_BADGE_EMPTY_RESPONSE)},error:function(a,c){d.updateCounter(b.METRICS.PRIME_BADGE_FAILURE)},always:function(a){}}}})});